(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{492:function(t,s,a){"use strict";a.r(s);var v=a(3),_=Object(v.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"requesttask-qa-request-object-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requesttask-qa-request-object-object"}},[t._v("#")]),t._v(" "),a("router-link",{attrs:{to:"/api/network/request/RequestTask.html"}},[t._v("RequestTask")]),t._v(" qa.request(Object object)")],1),t._v(" "),a("p",[t._v("发起 HTTPS 网络请求的接口")]),t._v(" "),a("h2",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("h3",{attrs:{id:"object-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-object"}},[t._v("#")]),t._v(" Object object")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[a("div",{staticStyle:{width:"50px"}},[t._v("默认值")])]),t._v(" "),a("th",[a("div",{staticStyle:{width:"50px"}},[t._v("必填")])]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("url")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("请求的目的地址")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("string/object/ArrayBuffer")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("请求的参数")])]),t._v(" "),a("tr",[a("td",[t._v("header")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("设置请求的 header，不支持 Referer。")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("content-type")]),t._v(" 默认为 "),a("code",[t._v("application/json")])]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("method")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("HTTP 请求方法")])]),t._v(" "),a("tr",[a("td",[t._v("dataType")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("json")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("返回的数据格式")])]),t._v(" "),a("tr",[a("td",[t._v("responseType")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[t._v("text")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("响应的数据类型")])]),t._v(" "),a("tr",[a("td",[t._v("success")]),t._v(" "),a("td",[t._v("function")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("接口调用成功的回调函数")])]),t._v(" "),a("tr",[a("td",[t._v("fail")]),t._v(" "),a("td",[t._v("function")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("接口调用失败的回调函数")])]),t._v(" "),a("tr",[a("td",[t._v("complete")]),t._v(" "),a("td",[t._v("function")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),a("p",[a("strong",[t._v("object.method 的合法值")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("值")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OPTIONS")]),t._v(" "),a("td",[t._v("HTTP 请求 OPTIONS")])]),t._v(" "),a("tr",[a("td",[t._v("GET")]),t._v(" "),a("td",[t._v("HTTP 请求 GET")])]),t._v(" "),a("tr",[a("td",[t._v("HEAD")]),t._v(" "),a("td",[t._v("HTTP 请求 HEAD")])]),t._v(" "),a("tr",[a("td",[t._v("POST")]),t._v(" "),a("td",[t._v("HTTP 请求 POST")])]),t._v(" "),a("tr",[a("td",[t._v("PUT")]),t._v(" "),a("td",[t._v("HTTP 请求 PUT")])]),t._v(" "),a("tr",[a("td",[t._v("DELETE")]),t._v(" "),a("td",[t._v("HTTP 请求 DELETE")])]),t._v(" "),a("tr",[a("td",[t._v("TRACE")]),t._v(" "),a("td",[t._v("HTTP 请求 TRACE")])]),t._v(" "),a("tr",[a("td",[t._v("CONNECT")]),t._v(" "),a("td",[t._v("HTTP 请求 CONNECT")])])])]),t._v(" "),a("p",[a("strong",[t._v("object.dataType 的合法值")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("值")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("json")]),t._v(" "),a("td",[t._v("返回的数据为 JSON，返回后会默认对返回的数据进行一次 JSON.parse")])]),t._v(" "),a("tr",[a("td",[t._v("其他")]),t._v(" "),a("td",[t._v("不对返回的内容进行 JSON.parse")])])])]),t._v(" "),a("p",[a("strong",[t._v("object.responseType 的合法值")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("值")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("arraybuffer")]),t._v(" "),a("td",[t._v("响应的数据为 ArrayBuffer")])]),t._v(" "),a("tr",[a("td",[t._v("text")]),t._v(" "),a("td",[t._v("响应的数据为文本")])])])]),t._v(" "),a("h4",{attrs:{id:"object-success-回调函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-success-回调函数"}},[t._v("#")]),t._v(" object.success 回调函数")]),t._v(" "),a("h5",{attrs:{id:"参数-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-2"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("h6",{attrs:{id:"object-res"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-res"}},[t._v("#")]),t._v(" Object res")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("string/Object/Arraybuffer")]),t._v(" "),a("td",[t._v("服务器返回的数据")])]),t._v(" "),a("tr",[a("td",[t._v("statusCode")]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("服务器返回的 HTTP 状态码")])]),t._v(" "),a("tr",[a("td",[t._v("header")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("服务器返回的 HTTP Response Header")])])])]),t._v(" "),a("h2",{attrs:{id:"返回值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("h3",{attrs:{id:"requesttask"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requesttask"}},[t._v("#")]),t._v(" "),a("router-link",{attrs:{to:"/api/network/request/RequestTask.html"}},[t._v("RequestTask")])],1),t._v(" "),a("p",[t._v("请求任务实例")]),t._v(" "),a("h2",{attrs:{id:"data-参数说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-参数说明"}},[t._v("#")]),t._v(" data 参数说明")]),t._v(" "),a("p",[t._v("最终发送给服务器的数据是 String 类型，如果传入的 data 不是 String 类型，会被转换成 String 。转换规则如下：")]),t._v(" "),a("ul",[a("li",[t._v("对于 "),a("code",[t._v("GET")]),t._v(" 方法的数据，会将数据转换成 query string（"),a("code",[t._v("encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...")]),t._v("）")]),t._v(" "),a("li",[t._v("对于 "),a("code",[t._v("POST")]),t._v(" 方法且 "),a("code",[t._v("header['content-type']")]),t._v(" 为 "),a("code",[t._v("application/json")]),t._v(" 的数据，会对数据进行 JSON 序列化")]),t._v(" "),a("li",[t._v("对于 "),a("code",[t._v("POST")]),t._v(" 方法且 "),a("code",[t._v("header['content-type']")]),t._v(" 为 "),a("code",[t._v("application/x-www-form-urlencoded")]),t._v(" 的数据，会将数据转换成 query string "),a("code",[t._v("（encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...）")])])]),t._v(" "),a("h2",{attrs:{id:"示例代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("qa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//仅为示例，并非真实的接口地址")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  header"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认值")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])])])}),[],!1,null,null,null);s.default=_.exports}}]);