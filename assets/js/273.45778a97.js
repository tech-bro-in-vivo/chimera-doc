(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{486:function(t,a,s){"use strict";s.r(a);var e=s(0),v=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"requesttask-qa-request-object-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requesttask-qa-request-object-object","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("router-link",{attrs:{to:"/api/network/request/RequestTask.html"}},[t._v("RequestTask")]),t._v(" qa.request(Object object)")],1),t._v(" "),s("p",[t._v("发起 HTTPS 网络请求的接口")]),t._v(" "),s("h2",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),s("h3",{attrs:{id:"object-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-object","aria-hidden":"true"}},[t._v("#")]),t._v(" Object object")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[s("div",{staticStyle:{width:"50px"}},[t._v("默认值")])]),t._v(" "),s("th",[s("div",{staticStyle:{width:"50px"}},[t._v("必填")])]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("url")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("是")]),t._v(" "),s("td",[t._v("请求的目的地址")])]),t._v(" "),s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",[t._v("string/object/ArrayBuffer")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("请求的参数")])]),t._v(" "),s("tr",[s("td",[t._v("header")]),t._v(" "),s("td",[t._v("Object")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("设置请求的 header，不支持 Referer。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("content-type")]),t._v(" 默认为 "),s("code",[t._v("application/json")])]),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("method")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("HTTP 请求方法")])]),t._v(" "),s("tr",[s("td",[t._v("dataType")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("json")]),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("返回的数据格式")])]),t._v(" "),s("tr",[s("td",[t._v("responseType")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("text")]),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("响应的数据类型")])]),t._v(" "),s("tr",[s("td",[t._v("success")]),t._v(" "),s("td",[t._v("function")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("接口调用成功的回调函数")])]),t._v(" "),s("tr",[s("td",[t._v("fail")]),t._v(" "),s("td",[t._v("function")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("接口调用失败的回调函数")])]),t._v(" "),s("tr",[s("td",[t._v("complete")]),t._v(" "),s("td",[t._v("function")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("否")]),t._v(" "),s("td",[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),s("p",[s("strong",[t._v("object.method 的合法值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("值")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("OPTIONS")]),t._v(" "),s("td",[t._v("HTTP 请求 OPTIONS")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("HTTP 请求 GET")])]),t._v(" "),s("tr",[s("td",[t._v("HEAD")]),t._v(" "),s("td",[t._v("HTTP 请求 HEAD")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("HTTP 请求 POST")])]),t._v(" "),s("tr",[s("td",[t._v("PUT")]),t._v(" "),s("td",[t._v("HTTP 请求 PUT")])]),t._v(" "),s("tr",[s("td",[t._v("DELETE")]),t._v(" "),s("td",[t._v("HTTP 请求 DELETE")])]),t._v(" "),s("tr",[s("td",[t._v("TRACE")]),t._v(" "),s("td",[t._v("HTTP 请求 TRACE")])]),t._v(" "),s("tr",[s("td",[t._v("CONNECT")]),t._v(" "),s("td",[t._v("HTTP 请求 CONNECT")])])])]),t._v(" "),s("p",[s("strong",[t._v("object.dataType 的合法值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("值")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("json")]),t._v(" "),s("td",[t._v("返回的数据为 JSON，返回后会默认对返回的数据进行一次 JSON.parse")])]),t._v(" "),s("tr",[s("td",[t._v("其他")]),t._v(" "),s("td",[t._v("不对返回的内容进行 JSON.parse")])])])]),t._v(" "),s("p",[s("strong",[t._v("object.responseType 的合法值")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("值")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("arraybuffer")]),t._v(" "),s("td",[t._v("响应的数据为 ArrayBuffer")])]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",[t._v("响应的数据为文本")])])])]),t._v(" "),s("h4",{attrs:{id:"object-success-回调函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-success-回调函数","aria-hidden":"true"}},[t._v("#")]),t._v(" object.success 回调函数")]),t._v(" "),s("h5",{attrs:{id:"参数-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),s("h6",{attrs:{id:"object-res"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-res","aria-hidden":"true"}},[t._v("#")]),t._v(" Object res")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",[t._v("string/Object/Arraybuffer")]),t._v(" "),s("td",[t._v("服务器返回的数据")])]),t._v(" "),s("tr",[s("td",[t._v("statusCode")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("服务器返回的 HTTP 状态码")])]),t._v(" "),s("tr",[s("td",[t._v("header")]),t._v(" "),s("td",[t._v("Object")]),t._v(" "),s("td",[t._v("服务器返回的 HTTP Response Header")])])])]),t._v(" "),s("h2",{attrs:{id:"返回值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回值","aria-hidden":"true"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),s("h3",{attrs:{id:"requesttask"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requesttask","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("router-link",{attrs:{to:"/api/network/request/RequestTask.html"}},[t._v("RequestTask")])],1),t._v(" "),s("p",[t._v("请求任务实例")]),t._v(" "),s("h2",{attrs:{id:"data-参数说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data-参数说明","aria-hidden":"true"}},[t._v("#")]),t._v(" data 参数说明")]),t._v(" "),s("p",[t._v("最终发送给服务器的数据是 String 类型，如果传入的 data 不是 String 类型，会被转换成 String 。转换规则如下：")]),t._v(" "),s("ul",[s("li",[t._v("对于 "),s("code",[t._v("GET")]),t._v(" 方法的数据，会将数据转换成 query string（"),s("code",[t._v("encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...")]),t._v("）")]),t._v(" "),s("li",[t._v("对于 "),s("code",[t._v("POST")]),t._v(" 方法且 "),s("code",[t._v("header['content-type']")]),t._v(" 为 "),s("code",[t._v("application/json")]),t._v(" 的数据，会对数据进行 JSON 序列化")]),t._v(" "),s("li",[t._v("对于 "),s("code",[t._v("POST")]),t._v(" 方法且 "),s("code",[t._v("header['content-type']")]),t._v(" 为 "),s("code",[t._v("application/x-www-form-urlencoded")]),t._v(" 的数据，会将数据转换成 query string "),s("code",[t._v("（encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...）")])])]),t._v(" "),s("h2",{attrs:{id:"示例代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例代码","aria-hidden":"true"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("qa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.php'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//仅为示例，并非真实的接口地址")]),t._v("\n  data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认值")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])])])}),[],!1,null,null,null);a.default=v.exports}}]);