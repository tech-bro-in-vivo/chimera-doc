(window.webpackJsonp=window.webpackJsonp||[]).push([[429],{648:function(t,v,_){"use strict";_.r(v);var o=_(0),a=Object(o.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"页面路由"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#页面路由","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面路由")]),t._v(" "),_("h3",{attrs:{id:"页面栈"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#页面栈","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面栈")]),t._v(" "),_("p",[t._v("快应用框架以栈的形式进行页面管理。当发生路由切换的时候，对应页面栈的表现如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("路由方式")]),t._v(" "),_("th",[t._v("页面栈表现")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("初始化")]),t._v(" "),_("td",[t._v("新页面入栈")])]),t._v(" "),_("tr",[_("td",[t._v("打开新页面")]),t._v(" "),_("td",[t._v("新页面入栈")])]),t._v(" "),_("tr",[_("td",[t._v("页面重定向")]),t._v(" "),_("td",[t._v("当前页面出栈，新页面入栈")])]),t._v(" "),_("tr",[_("td",[t._v("页面返回")]),t._v(" "),_("td",[t._v("页面不断出栈，直到目标返回页")])]),t._v(" "),_("tr",[_("td",[t._v("Tab 页切换")]),t._v(" "),_("td",[t._v("普通页面全部出栈，只留下 Tab 页面")])])])]),t._v(" "),_("p",[t._v("开发者可以通过 "),_("code",[t._v("getCurrentPages()")]),t._v(" 函数获取当前页面栈，返回结果是页面实例组成的数组。")]),t._v(" "),_("h3",{attrs:{id:"路由和页面生命周期"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#路由和页面生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由和页面生命周期")]),t._v(" "),_("p",[t._v("路由操作会引起页面状态的变化，触发对应的生命周期。不同路由方式导致的生命周期触发情形如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("情形")]),t._v(" "),_("th",[t._v("触发方式")]),t._v(" "),_("th",[t._v("路由前页面")]),t._v(" "),_("th",[t._v("路由后页面")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("初始化")]),t._v(" "),_("td",[t._v("快应用打开的第一个页面")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("onLoad, onShow")])]),t._v(" "),_("tr",[_("td",[t._v("打开新页面")]),t._v(" "),_("td",[t._v("调用 API "),_("router-link",{attrs:{to:"/api/route/qa.navigateTo.html"}},[t._v("qa.navigateTo")]),t._v(" 或使用组件 "),_("router-link",{attrs:{to:"/component/navigator.html"}},[_("code",[t._v('<navigator open-type="navigateTo"/>')])])],1),t._v(" "),_("td",[t._v("onHide")]),t._v(" "),_("td",[t._v("onLoad, onShow")])]),t._v(" "),_("tr",[_("td",[t._v("页面重定向")]),t._v(" "),_("td",[t._v("调用 API "),_("router-link",{attrs:{to:"/api/route/qa.redirectTo.html"}},[t._v("qa.redirectTo")]),t._v(" 或使用组件 "),_("router-link",{attrs:{to:"/component/navigator.html"}},[_("code",[t._v('<navigator open-type="redirectTo"/>')])])],1),t._v(" "),_("td",[t._v("onUnload")]),t._v(" "),_("td",[t._v("onLoad, onShow")])]),t._v(" "),_("tr",[_("td",[t._v("页面返回")]),t._v(" "),_("td",[t._v("调用 API "),_("router-link",{attrs:{to:"/api/route/qa.navigateBack.html"}},[t._v("qa.navigateBack")]),t._v(" 或使用组件"),_("router-link",{attrs:{to:"/component/navigator.html"}},[_("code",[t._v('<navigator open-type="navigateBack">')])]),t._v(" 或用户按左上角返回按钮")],1),t._v(" "),_("td",[t._v("onUnload")]),t._v(" "),_("td",[t._v("onShow")])]),t._v(" "),_("tr",[_("td",[t._v("重新加载")]),t._v(" "),_("td",[t._v("调用 API "),_("router-link",{attrs:{to:"/api/route/qa.reLaunch.html"}},[t._v("qa.reLaunch")]),t._v(" 或使用组件 "),_("router-link",{attrs:{to:"/component/navigator.html"}},[_("code",[t._v('<navigator open-type="reLaunch"/>')])])],1),t._v(" "),_("td",[t._v("onUnload")]),t._v(" "),_("td",[t._v("onLoad, onShow")])]),t._v(" "),_("tr",[_("td",[t._v("Tab 切换")]),t._v(" "),_("td",[t._v("调用 API "),_("router-link",{attrs:{to:"/api/route/qa.switchTab.html"}},[t._v("qa.switchTab")]),t._v(" 或使用组件 "),_("router-link",{attrs:{to:"/component/navigator.html"}},[_("code",[t._v('<navigator open-type="switchTab"/>')])]),t._v(" 或 用户点击 Tab")],1),t._v(" "),_("td"),t._v(" "),_("td",[t._v("具体见下表")])])])]),t._v(" "),_("p",[t._v("Tab 切换时，生命周期触发顺序（以 A、B 页面为 tabBar 页面，C 是从 A 页面打开的普通页面，D 页面是从 C 页面打开的普通页面）：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("当前页面")]),t._v(" "),_("th",[t._v("路由后页面")]),t._v(" "),_("th",[t._v("触发的生命周期（按顺序）")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("A")]),t._v(" "),_("td",[t._v("A")]),t._v(" "),_("td",[t._v("Nothing happend")])]),t._v(" "),_("tr",[_("td",[t._v("A")]),t._v(" "),_("td",[t._v("B")]),t._v(" "),_("td",[t._v("A.onHide(), B.onLoad(), B.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("A")]),t._v(" "),_("td",[t._v("B（再次打开）")]),t._v(" "),_("td",[t._v("A.onHide(), B.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("C")]),t._v(" "),_("td",[t._v("A")]),t._v(" "),_("td",[t._v("C.onUnload(), A.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("C")]),t._v(" "),_("td",[t._v("B")]),t._v(" "),_("td",[t._v("C.onUnload(), B.onLoad(), B.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("D")]),t._v(" "),_("td",[t._v("B")]),t._v(" "),_("td",[t._v("D.onUnload(), C.onUnload(), B.onLoad(), B.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("D（从转发进入）")]),t._v(" "),_("td",[t._v("A")]),t._v(" "),_("td",[t._v("D.onUnload(), A.onLoad(), A.onShow()")])]),t._v(" "),_("tr",[_("td",[t._v("D（从转发进入）")]),t._v(" "),_("td",[t._v("B")]),t._v(" "),_("td",[t._v("D.onUnload(), B.onLoad(), B.onShow()")])])])]),t._v(" "),_("p",[_("strong",[t._v("提示")]),t._v(":")]),t._v(" "),_("ul",[_("li",[_("code",[t._v("navigateTo")]),t._v(", "),_("code",[t._v("redirectTo")]),t._v(" 只能打开非 tabBar 页面。")]),t._v(" "),_("li",[_("code",[t._v("switchTab")]),t._v(" 只能打开 tabBar 页面。")]),t._v(" "),_("li",[_("code",[t._v("reLaunch")]),t._v(" 可以打开任意页面。")]),t._v(" "),_("li",[t._v("页面底部的 tabBar 由配置决定，即只要是定义为 tabBar 的页面，底部都有 tabBar。")]),t._v(" "),_("li",[t._v("调用页面路由带的参数可以在目标页面的"),_("code",[t._v("onLoad")]),t._v("中获取。")])])])}),[],!1,null,null,null);v.default=a.exports}}]);