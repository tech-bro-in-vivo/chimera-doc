(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{425:function(a,r,t){"use strict";t.r(r);var n=t(3),e=Object(n.a)({},(function(){var a=this,r=a.$createElement,t=a._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"backgroundaudiomanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager"}},[a._v("#")]),a._v(" BackgroundAudioManager")]),a._v(" "),t("p",[a._v("BackgroundAudioManager 实例，可通过 "),t("router-link",{attrs:{to:"/api/media/background-audio/qa.getBackgroundAudioManager.html"}},[a._v("qa.getBackgroundAudioManager")]),a._v(" 获取。")],1),a._v(" "),t("h2",{attrs:{id:"属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[a._v("#")]),a._v(" 属性")]),a._v(" "),t("h3",{attrs:{id:"string-src"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-src"}},[a._v("#")]),a._v(" string src")]),a._v(" "),t("p",[a._v("默认为空字符串，"),t("strong",[a._v("当设置了新的 src 时，会自动开始播放")]),a._v("，目前支持的格式有 m4a, aac, mp3, wav。")]),a._v(" "),t("h3",{attrs:{id:"number-starttime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#number-starttime"}},[a._v("#")]),a._v(" number startTime")]),a._v(" "),t("p",[a._v("音频开始播放的位置（单位：s）。")]),a._v(" "),t("h3",{attrs:{id:"string-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-title"}},[a._v("#")]),a._v(" string title")]),a._v(" "),t("p",[a._v("音频标题，用于原生音频播放器音频标题（必填）。原生音频播放器中的分享功能，分享出去的卡片标题，也将使用该值。")]),a._v(" "),t("h3",{attrs:{id:"string-epname"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-epname"}},[a._v("#")]),a._v(" string epname")]),a._v(" "),t("p",[a._v("专辑名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。")]),a._v(" "),t("h3",{attrs:{id:"string-singer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-singer"}},[a._v("#")]),a._v(" string singer")]),a._v(" "),t("p",[a._v("歌手名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。")]),a._v(" "),t("h3",{attrs:{id:"string-coverimgurl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-coverimgurl"}},[a._v("#")]),a._v(" string coverImgUrl")]),a._v(" "),t("p",[a._v("封面图 URL，用于做原生音频播放器背景图。原生音频播放器中的分享功能，分享出去的卡片配图及背景也将使用该图。")]),a._v(" "),t("h3",{attrs:{id:"string-weburl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-weburl"}},[a._v("#")]),a._v(" string webUrl")]),a._v(" "),t("p",[a._v("页面链接，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。")]),a._v(" "),t("h3",{attrs:{id:"string-protocol"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-protocol"}},[a._v("#")]),a._v(" string protocol")]),a._v(" "),t("p",[a._v("音频协议。默认值为 'http'，设置 'hls' 可以支持播放 HLS 协议的直播音频。")]),a._v(" "),t("h3",{attrs:{id:"number-duration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#number-duration"}},[a._v("#")]),a._v(" number duration")]),a._v(" "),t("p",[a._v("当前音频的长度（单位：s），只有在有合法 src 时返回。（只读）")]),a._v(" "),t("h3",{attrs:{id:"number-currenttime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#number-currenttime"}},[a._v("#")]),a._v(" number currentTime")]),a._v(" "),t("p",[a._v("当前音频的播放位置（单位：s），只有在有合法 src 时返回。（只读）")]),a._v(" "),t("h3",{attrs:{id:"boolean-paused"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#boolean-paused"}},[a._v("#")]),a._v(" boolean paused")]),a._v(" "),t("p",[a._v("当前是否暂停或停止。（只读）")]),a._v(" "),t("h3",{attrs:{id:"number-buffered"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#number-buffered"}},[a._v("#")]),a._v(" number buffered")]),a._v(" "),t("p",[a._v("音频已缓冲的时间，仅保证当前播放时间点到此时间点内容已缓冲。（只读）")]),a._v(" "),t("h2",{attrs:{id:"方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[a._v("#")]),a._v(" 方法")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-play"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-play"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.play.html"}},[a._v("BackgroundAudioManager.play()")])],1),a._v(" "),t("p",[a._v("播放音乐")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-pause"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-pause"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.pause.html"}},[a._v("BackgroundAudioManager.pause()")])],1),a._v(" "),t("p",[a._v("暂停音乐")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-seek-number-currenttime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-seek-number-currenttime"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.seek.html"}},[a._v("BackgroundAudioManager.seek(number currentTime)")])],1),a._v(" "),t("p",[a._v("跳转到指定位置")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-stop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-stop"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.stop.html"}},[a._v("BackgroundAudioManager.stop()")])],1),a._v(" "),t("p",[a._v("停止音乐")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-oncanplay-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-oncanplay-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onCanplay.html"}},[a._v("BackgroundAudioManager.onCanplay(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频进入可播放状态事件。 但不保证后面可以流畅播放")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onwaiting-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onwaiting-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onWaiting.html"}},[a._v("BackgroundAudioManager.onWaiting(function callback)")])],1),a._v(" "),t("p",[a._v("监听音频加载中事件。当音频因为数据不足，需要停下来加载时会触发")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onerror-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onerror-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onError.html"}},[a._v("BackgroundAudioManager.onError(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频播放错误事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onplay-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onplay-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onPlay.html"}},[a._v("BackgroundAudioManager.onPlay(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频播放事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onpause-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onpause-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onPause.html"}},[a._v("BackgroundAudioManager.onPause(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频暂停事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onseeking-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onseeking-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onSeeking.html"}},[a._v("BackgroundAudioManager.onSeeking(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频开始跳转操作事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onseeked-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onseeked-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onSeeked.html"}},[a._v("BackgroundAudioManager.onSeeked(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频完成跳转操作事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onended-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onended-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onEnded.html"}},[a._v("BackgroundAudioManager.onEnded(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频自然播放结束事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-onstop-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-onstop-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onStop.html"}},[a._v("BackgroundAudioManager.onStop(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频停止事件")]),a._v(" "),t("h3",{attrs:{id:"backgroundaudiomanager-ontimeupdate-function-callback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backgroundaudiomanager-ontimeupdate-function-callback"}},[a._v("#")]),a._v(" "),t("router-link",{attrs:{to:"/api/media/background-audio/BackgroundAudioManager.onTimeUpdate.html"}},[a._v("BackgroundAudioManager.onTimeUpdate(function callback)")])],1),a._v(" "),t("p",[a._v("监听背景音频播放进度更新事件，只有快应用在前台时会回调。")]),a._v(" "),t("h2",{attrs:{id:"示例代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[a._v("#")]),a._v(" 示例代码")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" backgroundAudioManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" qa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBackgroundAudioManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\nbackgroundAudioManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("title "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'此时此刻'")]),a._v("\nbackgroundAudioManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("epname "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'此时此刻'")]),a._v("\nbackgroundAudioManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("singer "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'许巍'")]),a._v("\nbackgroundAudioManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("coverImgUrl "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000'")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设置了 src 之后会自动播放")]),a._v("\nbackgroundAudioManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&uin=346897220&vkey=6292F51E1E384E061FF02C31F716658E5C81F5594D561F2E88B854E81CAAB7806D5E4F103E55D33C16F3FAC506D1AB172DE8600B37E43FAD&fromtag=46'")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])])])}),[],!1,null,null,null);r.default=e.exports}}]);